import{_ as e,c as n,o as s,a2 as t}from"./chunks/framework.CQECOx-R.js";const h=JSON.parse('{"title":"nexus无法下载依赖的问题记录","description":"","frontmatter":{},"headers":[],"relativePath":"java/devtool/nexus无法下载依赖的问题记录.md","filePath":"java/devtool/nexus无法下载依赖的问题记录.md","lastUpdated":1746516944000}'),l={name:"java/devtool/nexus无法下载依赖的问题记录.md"};function p(r,a,i,o,c,d){return s(),n("div",null,a[0]||(a[0]=[t(`<h1 id="nexus无法下载依赖的问题记录" tabindex="-1">nexus无法下载依赖的问题记录 <a class="header-anchor" href="#nexus无法下载依赖的问题记录" aria-label="Permalink to &quot;nexus无法下载依赖的问题记录&quot;">​</a></h1><p>maven私服突然无法下载依赖，在idea中使用命令查看下详细错误信息<code>mvn clean install -U -e -X</code></p><p>Client报错信息：</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>Caused by: org.eclipse.aether.transfer.ArtifactTransferException: Could not transfer artifact org.springframework.boot:spring-boot:jar:2.4.1 from/to nexus (xxxxxxxxxxxxxxxxxxxxxxxxx): GET request of: org/springframework/boot/spring-boot/2.4.1/spring-boot-2.4.1.jar from nexus failed</span></span></code></pre></div><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>Could not transfer artifact org.springframework.boot:spring-boot:jar:2.4.1 from/to nexus (xxxxxxxxxxxxxxxxxxxxxx): GET request of: org/springframework/boot/spring-boot/2.4.1/spring-boot-2.4.1.jar from nexus failed: Premature end of Content-Length delimited message body (expected: 1,302,347; received: 76,515) -&gt; [Help 1]</span></span></code></pre></div><p>服务端错误日志：</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>2022-04-10 16:51:14,488+0800 INFO  [qtp1752276351-145] *UNKNOWN org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Enabling session validation scheduler...</span></span>
<span class="line"><span>2022-04-10 16:51:14,502+0800 INFO  [qtp1752276351-51] *UNKNOWN org.sonatype.nexus.internal.security.anonymous.AnonymousManagerImpl - Loaded configuration: AnonymousConfiguration{enabled=false, userId=&#39;anonymous&#39;, realmName=&#39;NexusAuthorizingRealm&#39;}</span></span>
<span class="line"><span>2022-04-10 16:51:15,233+0800 WARN  [qtp1752276351-48] deployment org.sonatype.nexus.repository.httpbridge.internal.ViewServlet - Failure servicing: GET /repository/maven-public/org/springframework/boot/spring-boot/2.4.1/spring-boot-2.4.1.jar</span></span>
<span class="line"><span>org.eclipse.jetty.io.EofException: null</span></span>
<span class="line"><span>	at org.eclipse.jetty.io.ChannelEndPoint.flush(ChannelEndPoint.java:284)</span></span>
<span class="line"><span>	at org.eclipse.jetty.io.WriteFlusher.flush(WriteFlusher.java:393)</span></span>
<span class="line"><span>	at org.eclipse.jetty.io.WriteFlusher.write(WriteFlusher.java:277)</span></span>
<span class="line"><span>	at org.eclipse.jetty.io.AbstractEndPoint.write(AbstractEndPoint.java:380)</span></span>
<span class="line"><span>	at org.eclipse.jetty.server.HttpConnection$SendCallback.process(HttpConnection.java:826)</span></span>
<span class="line"><span>	at org.eclipse.jetty.util.IteratingCallback.processing(IteratingCallback.java:241)</span></span>
<span class="line"><span>	at org.eclipse.jetty.util.IteratingCallback.iterate(IteratingCallback.java:224)</span></span>
<span class="line"><span>	at org.eclipse.jetty.server.HttpConnection.send(HttpConnection.java:550)</span></span>
<span class="line"><span>	at org.eclipse.jetty.server.HttpChannel.sendResponse(HttpChannel.java:850)</span></span>
<span class="line"><span>	at org.eclipse.jetty.server.HttpChannel.write(HttpChannel.java:921)</span></span>
<span class="line"><span>	at org.eclipse.jetty.server.HttpOutput.write(HttpOutput.java:249)</span></span>
<span class="line"><span>	at org.eclipse.jetty.server.HttpOutput.write(HttpOutput.java:225)</span></span>
<span class="line"><span>	at org.eclipse.jetty.server.HttpOutput.write(HttpOutput.java:524)</span></span>
<span class="line"><span>	at com.google.common.io.ByteStreams.copy(ByteStreams.java:113)</span></span>
<span class="line"><span>	at org.sonatype.nexus.repository.view.Payload.copy(Payload.java:61)</span></span>
<span class="line"><span>	at org.sonatype.nexus.repository.view.Content.copy(Content.java:116)</span></span>
<span class="line"><span>	at org.sonatype.nexus.repository.httpbridge.internal.DefaultHttpResponseSender.send(DefaultHttpResponseSender.java:81)</span></span>
<span class="line"><span>	at org.sonatype.nexus.repository.httpbridge.internal.ViewServlet.dispatchAndSend(ViewServlet.java:228)</span></span>
<span class="line"><span>	at org.sonatype.nexus.repository.httpbridge.internal.ViewServlet.doService(ViewServlet.java:174)</span></span>
<span class="line"><span>	at org.sonatype.nexus.repository.httpbridge.internal.ViewServlet.service(ViewServlet.java:126)</span></span>
<span class="line"><span>	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)</span></span>
<span class="line"><span>	at com.google.inject.servlet.ServletDefinition.doServiceImpl(ServletDefinition.java:286)</span></span>
<span class="line"><span>	at com.google.inject.servlet.ServletDefinition.doService(ServletDefinition.java:276)</span></span>
<span class="line"><span>	at com.google.inject.servlet.ServletDefinition.service(ServletDefinition.java:181)</span></span>
<span class="line"><span>	at com.google.inject.servlet.DynamicServletPipeline.service(DynamicServletPipeline.java:71)</span></span>
<span class="line"><span>	at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:85)</span></span>
<span class="line"><span>	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112)</span></span>
<span class="line"><span>	at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82)</span></span>
<span class="line"><span>	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61)</span></span>
<span class="line"><span>	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108)</span></span>
<span class="line"><span>	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137)</span></span>
<span class="line"><span>	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)</span></span>
<span class="line"><span>	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66)</span></span>
<span class="line"><span>	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108)</span></span>
<span class="line"><span>	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137)</span></span>
<span class="line"><span>	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)</span></span>
<span class="line"><span>	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66)</span></span>
<span class="line"><span>	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108)</span></span>
<span class="line"><span>	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137)</span></span>
<span class="line"><span>	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)</span></span>
<span class="line"><span>	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66)</span></span>
<span class="line"><span>	at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108)</span></span>
<span class="line"><span>	at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137)</span></span>
<span class="line"><span>	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)</span></span>
<span class="line"><span>	at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66)</span></span>
<span class="line"><span>	at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449)</span></span>
<span class="line"><span>	at org.sonatype.nexus.security.SecurityFilter.executeChain(SecurityFilter.java:85)</span></span>
<span class="line"><span>	at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365)</span></span>
<span class="line"><span>	at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)</span></span>
<span class="line"><span>	at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)</span></span>
<span class="line"><span>	at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383)</span></span>
<span class="line"><span>	at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362)</span></span>
<span class="line"><span>	at org.sonatype.nexus.security.SecurityFilter.doFilterInternal(SecurityFilter.java:101)</span></span>
<span class="line"><span>	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)</span></span>
<span class="line"><span>	at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82)</span></span>
<span class="line"><span>	at org.sonatype.nexus.repository.httpbridge.internal.ExhaustRequestFilter.doFilter(ExhaustRequestFilter.java:80)</span></span>
<span class="line"><span>	at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82)</span></span>
<span class="line"><span>	at com.sonatype.nexus.licensing.internal.LicensingRedirectFilter.doFilter(LicensingRedirectFilter.java:114)</span></span>
<span class="line"><span>	at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82)</span></span>
<span class="line"><span>	at com.codahale.metrics.servlet.AbstractInstrumentedFilter.doFilter(AbstractInstrumentedFilter.java:112)</span></span>
<span class="line"><span>	at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82)</span></span>
<span class="line"><span>	at org.sonatype.nexus.internal.web.ErrorPageFilter.doFilter(ErrorPageFilter.java:79)</span></span>
<span class="line"><span>	at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82)</span></span>
<span class="line"><span>	at org.sonatype.nexus.internal.web.EnvironmentFilter.doFilter(EnvironmentFilter.java:101)</span></span>
<span class="line"><span>	at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82)</span></span>
<span class="line"><span>	at org.sonatype.nexus.internal.web.HeaderPatternFilter.doFilter(HeaderPatternFilter.java:98)</span></span>
<span class="line"><span>	at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82)</span></span>
<span class="line"><span>	at com.google.inject.servlet.DynamicFilterPipeline.dispatch(DynamicFilterPipeline.java:104)</span></span>
<span class="line"><span>	at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:135)</span></span>
<span class="line"><span>	at org.sonatype.nexus.bootstrap.osgi.DelegatingFilter.doFilter(DelegatingFilter.java:73)</span></span>
<span class="line"><span>	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1602)</span></span>
<span class="line"><span>	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:540)</span></span>
<span class="line"><span>	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:146)</span></span>
<span class="line"><span>	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)</span></span>
<span class="line"><span>	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)</span></span>
<span class="line"><span>	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:257)</span></span>
<span class="line"><span>	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1700)</span></span>
<span class="line"><span>	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:255)</span></span>
<span class="line"><span>	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1345)</span></span>
<span class="line"><span>	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:203)</span></span>
<span class="line"><span>	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:480)</span></span>
<span class="line"><span>	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1667)</span></span>
<span class="line"><span>	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:201)</span></span>
<span class="line"><span>	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1247)</span></span>
<span class="line"><span>	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:144)</span></span>
<span class="line"><span>	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)</span></span>
<span class="line"><span>	at com.codahale.metrics.jetty9.InstrumentedHandler.handle(InstrumentedHandler.java:239)</span></span>
<span class="line"><span>	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:152)</span></span>
<span class="line"><span>	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)</span></span>
<span class="line"><span>	at org.eclipse.jetty.server.Server.handle(Server.java:505)</span></span>
<span class="line"><span>	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:370)</span></span>
<span class="line"><span>	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:267)</span></span>
<span class="line"><span>	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:305)</span></span>
<span class="line"><span>	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)</span></span>
<span class="line"><span>	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)</span></span>
<span class="line"><span>	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:333)</span></span>
<span class="line"><span>	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:310)</span></span>
<span class="line"><span>	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:168)</span></span>
<span class="line"><span>	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:126)</span></span>
<span class="line"><span>	at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:366)</span></span>
<span class="line"><span>	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:698)</span></span>
<span class="line"><span>	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:804)</span></span>
<span class="line"><span>	at java.lang.Thread.run(Thread.java:748)</span></span>
<span class="line"><span>Caused by: java.io.IOException: Connection reset by peer</span></span>
<span class="line"><span>	at sun.nio.ch.FileDispatcherImpl.write0(Native Method)</span></span>
<span class="line"><span>	at sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:47)</span></span>
<span class="line"><span>	at sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:93)</span></span>
<span class="line"><span>	at sun.nio.ch.IOUtil.write(IOUtil.java:51)</span></span>
<span class="line"><span>	at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:471)</span></span>
<span class="line"><span>	at org.eclipse.jetty.io.ChannelEndPoint.flush(ChannelEndPoint.java:262)</span></span>
<span class="line"><span>	... 102 common frames omitted</span></span></code></pre></div><h2 id="解决" tabindex="-1">解决 <a class="header-anchor" href="#解决" aria-label="Permalink to &quot;解决&quot;">​</a></h2><p><img src="https://storyxc.com/images/blog/image-20220410223038569.png" alt="image-20220410223038569"></p><p>在nginx的location配置中增加<code>proxy_max_temp_file_size 0;</code></p>`,10)]))}const g=e(l,[["render",p]]);export{h as __pageData,g as default};
