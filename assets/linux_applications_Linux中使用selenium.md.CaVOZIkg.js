import{_ as i,o as a,c as e,a2 as n}from"./chunks/framework.BGfUC0LL.js";const c=JSON.parse('{"title":"Linux中使用selenium","description":"","frontmatter":{},"headers":[],"relativePath":"linux/applications/Linux中使用selenium.md","filePath":"linux/applications/Linux中使用selenium.md","lastUpdated":1770864474000}'),t={name:"linux/applications/Linux中使用selenium.md"};function h(l,s,p,r,o,k){return a(),e("div",null,[...s[0]||(s[0]=[n(`<h1 id="linux中使用selenium" tabindex="-1">Linux中使用selenium <a class="header-anchor" href="#linux中使用selenium" aria-label="Permalink to &quot;Linux中使用selenium&quot;">​</a></h1><h2 id="安装linux版chrome" tabindex="-1">安装linux版chrome <a class="header-anchor" href="#安装linux版chrome" aria-label="Permalink to &quot;安装linux版chrome&quot;">​</a></h2><h3 id="centos" tabindex="-1">centos <a class="header-anchor" href="#centos" aria-label="Permalink to &quot;centos&quot;">​</a></h3><p><code>wget https://dl.google.com/linux/direct/google-chrome-stable_current_x86_64.rpm</code></p><p><code>yum install google-chrome-stable_current_x86_64.rpm</code></p><h2 id="安装相关库" tabindex="-1">安装相关库 <a class="header-anchor" href="#安装相关库" aria-label="Permalink to &quot;安装相关库&quot;">​</a></h2><p><code>yum install mesa-libOSMesa-devel gnu-free-sans-fonts wqy-zenhei-fonts</code></p><h3 id="ubuntu" tabindex="-1">ubuntu <a class="header-anchor" href="#ubuntu" aria-label="Permalink to &quot;ubuntu&quot;">​</a></h3><p><code>wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb</code><code>sudo dpkg -i google-chrome-stable_current_amd64.deb </code></p><blockquote><p>安装报错</p><p>dpkg: error processing package google-chrome-stable (--install): dependency problems - leaving unconfigured Processing triggers for mime-support (3.64ubuntu1) ... Processing triggers for man-db (2.9.1-1) ... Errors were encountered while processing: google-chrome-stable</p></blockquote><p>使用<code>sudo apt-get install -f</code>修复依赖关系，</p><p><em>如果系统中有某个软件包不满足依赖条件,这个命令就会自动修复,将要安装那个软件包依赖的软件包。</em></p><h2 id="安装chromedriver" tabindex="-1">安装chromedriver <a class="header-anchor" href="#安装chromedriver" aria-label="Permalink to &quot;安装chromedriver&quot;">​</a></h2><p>淘宝源地址：<code>http://npm.taobao.org/mirrors/chromedriver/</code></p><p>需要根据不同版本的chrome进行选择下载，比如我安装的chrome是96版本的，那么chromedriver就需要找对应的96版本</p><p><img src="https://storyxc.com/images/blog//image-20220104161559216.png" alt="image-20220104161559216"></p><p>这里选择一个最近更新的即可</p><p><img src="https://storyxc.com/images/blog//image-20220104161718088.png" alt="image-20220104161718088"></p><p>这里下载linux版本,下载后解压，把解压后的chromedriver可执行文件移动到path下，例如<code>/usr/bin</code></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://npm.taobao.org/mirrors/chromedriver/96.0.4664.45/chromedriver_linux64.zip</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">unzip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> chromedriver_linux64.zip</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> chromedriver</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/bin</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/bin/chromedriver</span></span></code></pre></div><h2 id="使用python测试" tabindex="-1">使用python测试 <a class="header-anchor" href="#使用python测试" aria-label="Permalink to &quot;使用python测试&quot;">​</a></h2><p>linux下无头浏览器模式：</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> selenium </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> webdriver</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> selenium.webdriver.chrome.options </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Options</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">chrome_options </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Options()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">chrome_options.add_argument(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;--headless&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">chrome_options.add_argument(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;--no-sandbox&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">chrome_options.add_argument(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;--disable-gpu&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">chrome_options.add_argument(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;--disable-dev-shm-usage&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">driver </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> webdriver.Chrome(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">chrome_options</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">chrome_options)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">driver.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://www.baidu.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">with</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./baidu.html&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;w&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">encoding</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;utf-8&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fp:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        fp.write(driver.page_source)</span></span></code></pre></div>`,23)])])}const g=i(t,[["render",h]]);export{c as __pageData,g as default};
