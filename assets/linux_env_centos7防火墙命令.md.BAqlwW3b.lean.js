import{_ as s,o as i,c as e,a2 as t}from"./chunks/framework.BGfUC0LL.js";const k=JSON.parse('{"title":"centos7防火墙命令","description":"","frontmatter":{},"headers":[],"relativePath":"linux/env/centos7防火墙命令.md","filePath":"linux/env/centos7防火墙命令.md","lastUpdated":1770864474000}'),l={name:"linux/env/centos7防火墙命令.md"};function h(n,a,p,d,r,o){return i(),e("div",null,[...a[0]||(a[0]=[t(`<h1 id="centos7防火墙命令" tabindex="-1">centos7防火墙命令 <a class="header-anchor" href="#centos7防火墙命令" aria-label="Permalink to &quot;centos7防火墙命令&quot;">​</a></h1><p>centos7.0以上的版本默认为firewalld，以下是iptables，整理一下命令备用。</p><h2 id="firewall-cmd" tabindex="-1">firewall-cmd <a class="header-anchor" href="#firewall-cmd" aria-label="Permalink to &quot;firewall-cmd&quot;">​</a></h2><h3 id="查看防火墙状态" tabindex="-1">查看防火墙状态 <a class="header-anchor" href="#查看防火墙状态" aria-label="Permalink to &quot;查看防火墙状态&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">firewall-cmd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --state</span></span></code></pre></div><h3 id="查看防火墙规则" tabindex="-1">查看防火墙规则 <a class="header-anchor" href="#查看防火墙规则" aria-label="Permalink to &quot;查看防火墙规则&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">firewall-cmd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --list-all</span></span></code></pre></div><h3 id="更新防火墙规则" tabindex="-1">更新防火墙规则 <a class="header-anchor" href="#更新防火墙规则" aria-label="Permalink to &quot;更新防火墙规则&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">firewall-cmd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --reload</span></span></code></pre></div><h3 id="关闭-开启防火墙" tabindex="-1">关闭/开启防火墙 <a class="header-anchor" href="#关闭-开启防火墙" aria-label="Permalink to &quot;关闭/开启防火墙&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> firewalld.service</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> firewalld.service</span></span></code></pre></div><h3 id="端口操作" tabindex="-1">端口操作 <a class="header-anchor" href="#端口操作" aria-label="Permalink to &quot;端口操作&quot;">​</a></h3><h3 id="永久开放端口" tabindex="-1">永久开放端口 <a class="header-anchor" href="#永久开放端口" aria-label="Permalink to &quot;永久开放端口&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">firewall-cmd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --zone=public</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --add-port=5672/tcp</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --permanent</span></span></code></pre></div><h3 id="关闭端口" tabindex="-1">关闭端口 <a class="header-anchor" href="#关闭端口" aria-label="Permalink to &quot;关闭端口&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">firewall-cmd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --zone=public</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --remove-port=5672/tcp</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --permanent</span></span></code></pre></div><h3 id="" tabindex="-1"><a class="header-anchor" href="#" aria-label="Permalink to &quot;&quot;">​</a></h3><h2 id="iptables" tabindex="-1">iptables <a class="header-anchor" href="#iptables" aria-label="Permalink to &quot;iptables&quot;">​</a></h2><h3 id="开启-关闭防火墙" tabindex="-1">开启/关闭防火墙 <a class="header-anchor" href="#开启-关闭防火墙" aria-label="Permalink to &quot;开启/关闭防火墙&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> iptables.service</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> iptables.service</span></span></code></pre></div><h3 id="查看防火墙状态-1" tabindex="-1">查看防火墙状态 <a class="header-anchor" href="#查看防火墙状态-1" aria-label="Permalink to &quot;查看防火墙状态&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> iptables.service</span></span></code></pre></div><h3 id="开放端口" tabindex="-1">开放端口 <a class="header-anchor" href="#开放端口" aria-label="Permalink to &quot;开放端口&quot;">​</a></h3><p>1.命令</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">iptables</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -I</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> INPUT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tcp</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --dport</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -j</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ACCEPT</span></span></code></pre></div><p>2.直接修改/etc/sysconfig/iptables</p><p><code>-A INPUT -m state --state NEW -m tcp -p tcp --dport 8000 -j ACCEPT　</code></p><h3 id="重启iptables" tabindex="-1">重启iptables <a class="header-anchor" href="#重启iptables" aria-label="Permalink to &quot;重启iptables&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">service</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> iptables</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span></span></code></pre></div>`,29)])])}const b=s(l,[["render",h]]);export{k as __pageData,b as default};
